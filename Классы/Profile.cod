class "";

inclass public

  proc GetSessionInfo;
    var iComment, iRevision: string;
    iComment = BaseInfo.ProjectByName[Self.ClassProject].Comment;
    if (WordsCount(iComment) = 1) and (Pos('#', iComment) = 1):
      iRevision = SubStr(iComment, 2);
    elsif (WordsCount(iComment) > 1) and (Pos('#', iComment) > 1):
      iRevision = ExtractWord(iComment, 2, '#');
    fi;
    if (iRevision <> nil):
      iRevision = ' # ' + iRevision;
    fi;
    AddSessionInfo(СИС2.Константы.ЗаголовокИнформацииОРелизахТББ, ClassProject + ' : ' + СИС2.СтроковыеФункции.TAB(2) + Str(Константы.ПолучитьВерсиюПроекта, '0.000') + iRevision);
  end;

  proc Init;
    var локВерсияПроектаПриСтарте: numeric;
    with ТББ_Базовый.ВосстановлениеБазы do
      локВерсияПроектаПриСтарте = ВерсияПроектаПриСтарте(Self.ClassProject);
      if НоваяИнфБазаДляПроекта(Self.ClassProject):
        ВыполнитьПлановуюКонвертацию(локВерсияПроектаПриСтарте);
      fi;
      УстановитьНовуюВерсиюИнфБазыДляПроекта(Self.ClassProject);-- если номер версии еще не сохранен
    end;
  end;

inclass private

  proc ВыполнитьПлановуюКонвертацию (var локВерсияПроектаПриСтарте: numeric);
  end;

end