class "‘ункции дл€ работы с данными";

import classes  онстанты;
import Ѕазовый classes  онстанты;

inclass public

proc јдрес–егистрацииѕо”мол (лок«а€вка : ƒанные.«а€вкаЌаЌазначениеѕособи€; лок—отрудник : Ѕазовый.ƒанные.—убъект);
  var локјдрес_‘Ћ,локјдрес—— : Ѕазовый.—правочники.јдрес;
  var лок‘изЋицо : Ѕазовый.ƒанные.—убъект;
  var лок«апись“ипјдреса  : Ѕазовый.—правочники.“ипјдреса;
  var i : integer;
    лок‘изЋицо = лок—отрудник.‘изЋицо;
    локјдрес_‘Ћ = “ЅЅ_Ѕазовый.Ѕиблио.ѕолучитьјдрес—убъекта(лок‘изЋицо,Today);
    if (локјдрес_‘Ћ <> nil) :
      локјдрес—— = локјдрес_‘Ћ.Clone;
      локјдрес——.—убъект = nil;
      локјдрес——.ѕолучатель‘изЋицо = лок‘изЋицо;
      локјдрес——.«а€вкаЌаЌазначениеѕособи€ = лок«а€вка;
      лок«апись“ипјдреса = «апись“ипјдреса (тапѕрописка);
      локјдрес——.ѕозиции.Clear;
      i = локјдрес——.ѕозиции.Add;
      локјдрес——.ѕозиции[i].“ипјдреса = лок«апись“ипјдреса;
      локјдрес——.Post;
    fi;
end;

func «апись“ипјдреса (лок“ипјдреса : integer): Ѕазовый.—правочники.“ипјдреса;
  var лок‘ильтр : string;
    лок‘ильтр = " од='" + ѕредопределени€[лок“ипјдреса,1] +"'";
    Result = —»—2.‘ункцииƒокумента.QueryRecord(Ѕазовый.—правочники.“ипјдреса, лок‘ильтр);
end;

proc ”дЋичностиѕо”мол (лок«а€вка : ƒанные.«а€вкаЌаЌазначениеѕособи€; лок—отрудник : Ѕазовый.ƒанные.—убъект);
  var лок”достоверение‘Ћ,лок”достоверение—— : Ѕазовый.—правочники.”достоверение;
  var лок‘изЋицо : Ѕазовый.ƒанные.—убъект;
    лок‘изЋицо = лок—отрудник.‘изЋицо;
    лок”достоверение‘Ћ = “ЅЅ_Ѕазовый.Ѕиблио.ѕолучитьƒокумент—убъекта(лок‘изЋицо,Today);
    if (лок”достоверение‘Ћ <> nil) :
      лок”достоверение—— = лок”достоверение‘Ћ.Clone;
      лок”достоверение——.‘изЋицо = nil;
      лок”достоверение——.ѕолучатель‘изЋицо = лок‘изЋицо;
      лок”достоверение——.«а€вкаЌаЌазначениеѕособи€ = лок«а€вка;
      лок”достоверение——.“ипƒокумента—оц—трах = “ипƒокѕолуч”дЋичн;
      лок”достоверение——.Post;
    fi;
end;



end