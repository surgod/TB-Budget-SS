class inherited СИС2.КартБазовая "картотека назначений пособий";

import classes Константы;



inclass public

func ВыполнитьВыбор (var локРезультатВыбора: Бюджет_ЗПиДД.РасчетныеОперации.НазначениеПособия;
                     локНашеУчреждение: Базовый.Данные.Субъект;
                     локСотрудник : Базовый.Данные.Субъект): Integer;
  var locCrd: РасчетныеОперации.картНазначениеПособияСС;
  var locResult: Бюджет_ЗПиДД.РасчетныеОперации.НазначениеПособия;
  var aFlt[] : string;
    aFlt[1] = 'НашеУчреждение=' + Str(локНашеУчреждение);
    aFlt[2] = 'Сотрудник=' + Str(локСотрудник);
    --aFlt[3] = 'ВидСтраховогоОбеспечения.ТипПособия<>' + Str(ТипПособияНет);
    locResult = локРезультатВыбора;
    locCrd = РасчетныеОперации.картНазначениеПособияСС.Create;
    locCrd.CardFile.UserFilter = СИС2.СтроковыеФункции.СложитьСтрокиФильтраПоИ(aFlt);
    if (CmOk = locCrd.ShowEx(locResult, , Kernel.Window.ModalWindow)):
      локРезультатВыбора = locResult;
      Return CmOk;
    fi;
end;

end