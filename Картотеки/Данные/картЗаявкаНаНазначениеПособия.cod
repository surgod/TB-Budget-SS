class inherited “ЅЅ_Ѕазовый.Ѕазовые.картƒокумент "«а€вки на назначение пособий";

import classes  онстанты;

--{{ —войства
inclass private

  var ѕоле—толбцаЌаше: String:= 'Ќаше”чреждение.»м€';
  var  ласс»нтерфейса: Class ћашина–еквизитов.Ѕазовые.инт«апись = ƒанные.инт«а€вкаЌаЌазначениеѕособи€;
--}}


--------------------------------------------------------------------------------
--{ ќбработчики событий картотеки
inobject private

  func картотека_ѕри—оздании«аписи (var locRecord: ƒанные.«а€вкаЌаЌазначениеѕособи€): Logical;
    var лок¬сеЌаши”чреждени€: Ѕазовый.ƒанные.—убъект[];
    var локЌаше”чреждение: Ѕазовый.ƒанные.—убъект;
    var локѕараметрыЌовой«аписи[2] : variant;
    var i,nn : integer;
    if (Ќаше”чреждение = nil): -- определение учреждени€ документа и возможности выбора учреждени€
      лок¬сеЌаши”чреждени€ = “ЅЅ_Ѕазовый.Ѕиблио.¬сеЌаши”чреждени€;
      if (LengthOfArray(лок¬сеЌаши”чреждени€) = 1):
        локЌаше”чреждение = лок¬сеЌаши”чреждени€[1];
      else
        if (CmOk <> “ЅЅ_Ѕазовый.Ѕиблио.¬ыборЌашего”чреждени€(локЌаше”чреждение)):
          Return;
        fi;
      fi;
    else
      локЌаше”чреждение = Ќаше”чреждение;
    fi;
    if (локЌаше”чреждение = nil) :
      return;
    fi;
    if (CmOk <> —лужебные.блЌова€«а€вкаЌаЌазначениеѕособи€.OpenForm(локЌаше”чреждение,локѕараметрыЌовой«аписи)):
      return;
    fi;
    nn = LengthOfArray(локѕараметрыЌовой«аписи);
    for i = 1..nn do
      ƒобавитьѕараметрЌовой«аписи(локѕараметрыЌовой«аписи[i,1], локѕараметрыЌовой«аписи[i,2]);
    end;
    if inherited картотека_ѕри—оздании«аписи(locRecord):
       ласс»нтерфейса.Ѕланк–едакторѕо”молчанию.ShowFormEx(locRecord);
    fi;
  end;
--}

end