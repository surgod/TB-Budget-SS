class inherited ТББ_Базовый.Базовые.картДокумент "Заявления на оплату пособий соц.страх.";

import classes Константы;


inclass private

  var ПолеСтолбцаНаше: String:= 'НашеУчреждение.Имя';
  var КлассИнтерфейса: Class МашинаРеквизитов.Базовые.интЗапись = Документы.интЗаявление;

  --тип реестра пока задан жестко

--------------------------------------------------------------------------------
--{ Обработчики событий картотеки
inobject private

  func картотека_ПриСозданииЗаписи (var locRecord: Документы.Первичные.Заявление): Logical;
    var локВсеНашиУчреждения: Базовый.Данные.Субъект[];
    var локНашеУчреждение: Базовый.Данные.Субъект;
    var локРеквизитыЗаявления : Документы.РеквизитыЗаявления;
    var локПараметры[2] : variant;
    var i,nn : integer;
       локРеквизитыЗаявления = Документы.РеквизитыЗаявления.СоздатьДляНашеУчреждение(НашеУчреждение);
       if (CmOk <> Служебные.блНовоеЗаявление.OpenForm(локРеквизитыЗаявления)):
          Return;
       fi;
       локПараметры = локРеквизитыЗаявления.ПараметрыНовогоЗаявления;
       nn = LengthOfArray(локПараметры);
       for i = 1..nn do
         ДобавитьПараметрНовойЗаписи(локПараметры[i,1], локПараметры[i,2]);
       end;
       if inherited картотека_ПриСозданииЗаписи(locRecord):
         КлассИнтерфейса.БланкРедакторПоУмолчанию.ShowFormEx(locRecord);
       fi;
  end;
--}

end