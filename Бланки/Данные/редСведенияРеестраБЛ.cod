class inherited —»—2.ЅазовыйЅланк–едактор "–едактор сведений реестра ЅЋ",  editor ƒанные.—ведени€–еестраЅЋ;

import classes  онстанты,‘ункцииѕрименени€ остант;--,‘ункцииƒанных;


--{{ —войства


inobject public

var »м€ѕол€ : string;
var ѕризнак«авершени€ : logical;

--}}

inclass public

func —оздатьѕо»мениѕол€ (лок»м€ѕол€ : string;
                         локѕризнак«авершени€ : logical) : ƒанные.ред—ведени€–еестраЅЋ;
  Result = ƒанные.ред—ведени€–еестраЅЋ.Create;
  Result.»м€ѕол€ = лок»м€ѕол€;
  Result.ѕризнак«авершени€ = локѕризнак«авершени€;
end;

func ѕоказатьћодально synonym ShowModal(лок—ведени€ : ƒанные.—ведени€–еестраЅЋ;
                                        лок»м€ѕол€ : string;
                                        локѕризнак«авершени€ : logical) : integer;
  var locForm : ƒанные.ред—ведени€–еестраЅЋ;
    locForm = —оздатьѕо»мениѕол€(лок»м€ѕол€,локѕризнак«авершени€);
    if cmOk = locForm.ShowEx(лок—ведени€, Kernel.Window.ModalWindow):
      Return cmOk;
    fi;
end;

inobject private

--фреймы

var фрейм‘орма : TemplateFrame;
var фрейм–еквизитыЅЋ : TemplateFrame;
var фреймѕричина : TemplateFrame;
var фрейм„лены—емьи : TemplateFrame;
var фреймѕериод¬—тационаре : TemplateFrame;


--имена полей редактора за€вки, которые редактируютс€ в фрейме ЅЋ

var »менаƒл€‘рейма–еквЅЋ[] : string = ['‘ормаЅЋ_–еестр','ЌомерЅЋ_–еестр','ƒатаЅЋ_–еестр'];
var »менаƒл€‘реймаѕричина[] : string = ['ѕричина_–еестр'];
var »менаƒл€‘рейма„лены—емьи[] : string = ['„лен—емьи1_–еестр', '„лен—емьи2_–еестр'];
var »менаƒл€‘реймаѕериод¬—тационаре[] : string = ['ѕериод¬—тационаре_–еестр'];

--------------------------------------------------------------------------------
--{ ќбработчики событий бланка

proc шаблон_ѕри—оздании(Context :Variant);
  inherited шаблон_ѕри—оздании(Context);
  ќбновить—писокѕол€(фрейм–еквизитыЅЋ.CellByField['“ип‘ормыЅЋ'], “ипы‘ормЅЋ);
end;


proc шаблон_ѕриќткрытии(Create :Logical);
 inherited шаблон_ѕриќткрытии(Create);
 ¬ид‘ормы;
end;

func ѕолеЌомерЅЋ_ѕри¬ходе(Cell :TemplateCell; Index :Integer; Action : Template.EnterTypes) :Logical;
  var лок—трока : string;
  Result = false;
  if (Cell.Contents = 'ЌомерЅЋ') :
    лок—трока = ЌомерЅЋ;
    if ( cmOk = Ѕюджет_ѕерсонал.—лужебные.бл¬водЌомераЅЋ.¬ыполнить¬вод(лок—трока)) :
      ЌомерЅЋ = лок—трока;
    fi;
  elsif (Cell.Contents = 'ѕродолжениеЅЋ') :
    лок—трока = ѕродолжениеЅЋ;
    if ( cmOk = Ѕюджет_ѕерсонал.—лужебные.бл¬водЌомераЅЋ.¬ыполнить¬вод(лок—трока)) :
      ѕродолжениеЅЋ = лок—трока;
    fi;
  fi;
end;
--}

--{ ¬спомогательные методы

proc ¬ид‘ормы;
  Template.BeginModify;
    фрейм‘орма.ShowTabs = false;
    if (»м€ѕол€ in »менаƒл€‘рейма–еквЅЋ) :
      Template.CurrentFrame = фрейм–еквизитыЅЋ;
    elsif (»м€ѕол€ in »менаƒл€‘реймаѕричина) :
      Template.CurrentFrame = фреймѕричина;
    elsif (»м€ѕол€ in »менаƒл€‘рейма„лены—емьи) :
      Template.CurrentFrame = фрейм„лены—емьи;
    elsif (»м€ѕол€ in »менаƒл€‘реймаѕериод¬—тационаре) :
      Template.CurrentFrame = фреймѕериод¬—тационаре;
    fi;
  Template.EndModify;
end;

--}

end