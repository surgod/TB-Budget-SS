class inherited —»—2.ЅазовыйЅланк–едактор "–едактор сведений реестра ЅЋ",  editor ƒанные.—ведени€–еестраЅЋ;

import classes  онстанты,‘ункцииѕрименени€ остант;--,‘ункцииƒанных;


--{{ —войства


inobject public

var »м€ѕол€ : string;
var ѕризнак«авершени€ : logical;

--}}

inclass public

func —оздатьѕо»мениѕол€ (лок»м€ѕол€ : string;
                         локѕризнак«авершени€ : logical) : ƒанные.ред—ведени€–еестраЅЋ;
  Result = ƒанные.ред—ведени€–еестраЅЋ.Create;
  Result.»м€ѕол€ = лок»м€ѕол€;
  Result.ѕризнак«авершени€ = локѕризнак«авершени€;
end;

func ѕоказатьћодально synonym ShowModal(лок—ведени€ : ƒанные.—ведени€–еестраЅЋ;
                                        лок»м€ѕол€ : string;
                                        локѕризнак«авершени€ : logical) : integer;
  var locForm : ƒанные.ред—ведени€–еестраЅЋ;
    locForm = —оздатьѕо»мениѕол€(лок»м€ѕол€,локѕризнак«авершени€);
    if cmOk = locForm.ShowEx(лок—ведени€, Kernel.Window.ModalWindow):
      Return cmOk;
    fi;
end;

inobject private

--фреймы

var фрейм‘орма : TemplateFrame;
var фрейм–еквизитыЅЋ : TemplateFrame;
var фреймѕричина : TemplateFrame;
var фрейм„лен—емьи1 : TemplateFrame;
var фрейм„лен—емьи2 : TemplateFrame;
var фреймѕериод¬—тационаре : TemplateFrame;
var фреймќсвобождениеќт–аботы : TemplateFrame;
var фреймћ—Ё : TemplateFrame;
var фреймƒок–анние—роки : TemplateFrame;
var фреймЌарушение–ежима : TemplateFrame;


--имена полей редактора за€вки, которые редактируютс€ в фреймефрейм—таж

var »менаƒл€‘рейма–еквЅЋ[] : string = ['‘ормаЅЋ_–еестр','ЌомерƒатаЅЋ_–еестр'];
var »менаƒл€‘реймаѕричина[] : string = ['ѕричина_–еестр'];
var »менаƒл€‘рейма„лен—емьи1[] : string = ['„лен—емьи1_–еестр'];
var »менаƒл€‘рейма„лен—емьи2[] : string = ['„лен—емьи2_–еестр'];
var »менаƒл€‘реймаѕериод¬—тационаре[] : string = ['ѕериод¬—тационаре_–еестр'];
var »менаƒл€‘реймаќсвобождќт–аботы[] : string = ['ѕериодќсвобождени€ќт–аботы_–еестр','ƒата¬ыходаЌа–аботу_–еестр'];
var »менаƒл€‘реймаћ—Ё[] : string = ['ћ—Ё_–еестр'];
var »менаƒл€‘реймаƒок–анние—роки[] : string = ['—правка–анние—роки_–еестр'];
var »менаƒл€‘реймаЌарушение–ежима[] : string = ['Ќарушение–ежима_–еестр'];

--------------------------------------------------------------------------------
--{ ќбработчики событий бланка

proc шаблон_ѕри—оздании(Context :Variant);
  inherited шаблон_ѕри—оздании(Context);
  ќбновить—писокѕол€(фрейм–еквизитыЅЋ.CellByField['“ип‘ормыЅЋ'], “ипы‘ормЅЋ);
end;


proc шаблон_ѕриќткрытии(Create :Logical);
 inherited шаблон_ѕриќткрытии(Create);
 ¬ид‘ормы;
end;

func ѕолеЌомерЅЋ_ѕри¬ходе(Cell :TemplateCell; Index :Integer; Action : Template.EnterTypes) :Logical;
  var лок—трока : string;
  Result = false;
  if (Cell.Contents = 'ЌомерЅЋ') :
    лок—трока = ЌомерЅЋ;
    if ( cmOk = Ѕюджет_ѕерсонал.—лужебные.бл¬водЌомераЅЋ.¬ыполнить¬вод(лок—трока)) :
      ЌомерЅЋ = лок—трока;
    fi;
  elsif (Cell.Contents = 'ѕродолжениеЅЋ') :
    лок—трока = ѕродолжениеЅЋ;
    if ( cmOk = Ѕюджет_ѕерсонал.—лужебные.бл¬водЌомераЅЋ.¬ыполнить¬вод(лок—трока)) :
      ѕродолжениеЅЋ = лок—трока;
    fi;
  fi;
end;
--}

--{ ¬спомогательные методы

proc ¬ид‘ормы;
  Template.BeginModify;
    фрейм‘орма.ShowTabs = false;
    if (»м€ѕол€ in »менаƒл€‘рейма–еквЅЋ) :
      Template.CurrentFrame = фрейм–еквизитыЅЋ;
    elsif (»м€ѕол€ in »менаƒл€‘реймаѕричина) :
      Template.CurrentFrame = фреймѕричина;
    elsif (»м€ѕол€ in »менаƒл€‘рейма„лен—емьи1) :
      Template.CurrentFrame = фрейм„лен—емьи1;
    elsif (»м€ѕол€ in »менаƒл€‘рейма„лен—емьи2) :
      Template.CurrentFrame = фрейм„лен—емьи2;
    elsif (»м€ѕол€ in »менаƒл€‘реймаѕериод¬—тационаре) :
      Template.CurrentFrame = фреймѕериод¬—тационаре;
    elsif (»м€ѕол€ in »менаƒл€‘реймаќсвобождќт–аботы) :
      Template.CurrentFrame = фреймќсвобождениеќт–аботы;
    elsif (»м€ѕол€ in »менаƒл€‘реймаћ—Ё) :
      Template.CurrentFrame = фреймћ—Ё;
    elsif (»м€ѕол€ in »менаƒл€‘реймаƒок–анние—роки) :
      Template.CurrentFrame = фреймƒок–анние—роки;
    elsif (»м€ѕол€ in »менаƒл€‘реймаЌарушение–ежима) :
      Template.CurrentFrame = фреймЌарушение–ежима;
    fi;
  Template.EndModify;
end;

--}

end