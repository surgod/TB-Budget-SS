class inherited ТББ_Базовый.Справочники.редУдостоверение "Удостоверение личности", editor Базовый.Справочники.Удостоверение;

inobject private

var фреймШапка : TemplateFrame;

-- Обработчики событий шаблона --

  proc шаблон_ПриОткрытии (Create: Logical);
    --var locCell: TemplateCell;
    Template.BeginModify;
      фреймШапка.Visible = false;
      ----
      --locCell = фреймШапка.CellByField['Физлицо.Код'];
      --if (locCell <> nil): -- в случе повторного вызова  метода
      --  locCell.Enabled = false;
      --  locCell.Contents = ПолучательФизЛицо.Код;
      --  locCell.OnDraw = 'ПриРисовании_КакПолеВывода';
      --fi;
      ----
      --locCell = секцСубъект.CellByField['ФизЛицо'];
      --if (locCell <> nil):
      --  locCell.Enabled = false;
      --  locCell.Contents = ПолучательФизЛицо.Имя;
      --  locCell.Button = false;
      --  locCell.OnDraw = 'ПриРисовании_КакПолеВывода';
      --fi;
      ----
    Template.EndModify;
    inherited шаблон_ПриОткрытии(Create);
  end;

-- Обработчики событий клеток шаблона --

  func ПолеЗаголовокОкнаФормы_ПриВыводе (Cell: TemplateCell; Value: Variant; Action: Template.OutputTypes; var Format: String): String;
    if (ПолучательФизЛицо <> nil):
      Return ПолучательФизЛицо.Имя;
    else
      Cell.Font.Color = СИС2.Константы.clRed;
      Return 'Получатель не указан';
    fi;
  end;

end